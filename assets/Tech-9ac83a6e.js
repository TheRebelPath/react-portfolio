import{B as X,V as B,M as F,c as G,d as Z,e as R,T as I,r as c,f as q,E as _,g as z,h as J,_ as K,i as Q,m as Y,k as v,j as D,C as V,a as M,L as tt,O as ot,P as et}from"./index-190b149d.js";import{S as rt}from"./SectionWrapper-588f5ad9.js";import{t as nt}from"./index-15cbdeab.js";import"./styles-bea25d13.js";import"./motion-63552f2e.js";import"./motion-dbded027.js";class st extends X{constructor(a,g,m,l){super();const E=[],P=[],b=[],w=new B,h=new F;h.makeRotationFromEuler(m),h.setPosition(g);const j=new F;j.copy(h).invert(),d(),this.setAttribute("position",new G(E,3)),this.setAttribute("normal",new G(P,3)),this.setAttribute("uv",new G(b,2));function d(){let t,o=[];const n=new B,s=new B;if(a.geometry.isGeometry===!0){console.error("THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.");return}const r=a.geometry,O=r.attributes.position,y=r.attributes.normal;if(r.index!==null){const u=r.index;for(t=0;t<u.count;t++)n.fromBufferAttribute(O,u.getX(t)),s.fromBufferAttribute(y,u.getX(t)),k(o,n,s)}else for(t=0;t<O.count;t++)n.fromBufferAttribute(O,t),s.fromBufferAttribute(y,t),k(o,n,s);for(o=p(o,w.set(1,0,0)),o=p(o,w.set(-1,0,0)),o=p(o,w.set(0,1,0)),o=p(o,w.set(0,-1,0)),o=p(o,w.set(0,0,1)),o=p(o,w.set(0,0,-1)),t=0;t<o.length;t++){const u=o[t];b.push(.5+u.position.x/l.x,.5+u.position.y/l.y),u.position.applyMatrix4(h),E.push(u.position.x,u.position.y,u.position.z),P.push(u.normal.x,u.normal.y,u.normal.z)}}function k(t,o,n){o.applyMatrix4(a.matrixWorld),o.applyMatrix4(j),n.transformDirection(a.matrixWorld),t.push(new C(o.clone(),n.clone()))}function p(t,o){const n=[],s=.5*Math.abs(l.dot(o));for(let r=0;r<t.length;r+=3){let O,y,u,W=0,i,f,x,T;const H=t[r+0].position.dot(o)-s,N=t[r+1].position.dot(o)-s,$=t[r+2].position.dot(o)-s;switch(O=H>0,y=N>0,u=$>0,W=(O?1:0)+(y?1:0)+(u?1:0),W){case 0:{n.push(t[r]),n.push(t[r+1]),n.push(t[r+2]);break}case 1:{if(O&&(i=t[r+1],f=t[r+2],x=A(t[r],i,o,s),T=A(t[r],f,o,s)),y){i=t[r],f=t[r+2],x=A(t[r+1],i,o,s),T=A(t[r+1],f,o,s),n.push(x),n.push(f.clone()),n.push(i.clone()),n.push(f.clone()),n.push(x.clone()),n.push(T);break}u&&(i=t[r],f=t[r+1],x=A(t[r+2],i,o,s),T=A(t[r+2],f,o,s)),n.push(i.clone()),n.push(f.clone()),n.push(x),n.push(T),n.push(x.clone()),n.push(f.clone());break}case 2:{O||(i=t[r].clone(),f=A(i,t[r+1],o,s),x=A(i,t[r+2],o,s),n.push(i),n.push(f),n.push(x)),y||(i=t[r+1].clone(),f=A(i,t[r+2],o,s),x=A(i,t[r],o,s),n.push(i),n.push(f),n.push(x)),u||(i=t[r+2].clone(),f=A(i,t[r],o,s),x=A(i,t[r+1],o,s),n.push(i),n.push(f),n.push(x));break}}}return n}function A(t,o,n,s){const r=t.position.dot(n)-s,O=o.position.dot(n)-s,y=r/(r-O);return new C(new B(t.position.x+y*(o.position.x-t.position.x),t.position.y+y*(o.position.y-t.position.y),t.position.z+y*(o.position.z-t.position.z)),new B(t.normal.x+y*(o.normal.x-t.normal.x),t.normal.y+y*(o.normal.y-t.normal.y),t.normal.z+y*(o.normal.z-t.normal.z)))}}}class C{constructor(a,g){this.position=a,this.normal=g}clone(){return new this.constructor(this.position.clone(),this.normal.clone())}}const U=e=>e===Object(e)&&!Array.isArray(e)&&typeof e!="function";function L(e,a){const g=Z(l=>l.gl),m=R(I,U(e)?Object.values(e):e);if(c.useLayoutEffect(()=>{a==null||a(m)},[a]),c.useEffect(()=>{(Array.isArray(m)?m:[m]).forEach(g.initTexture)},[g,m]),U(e)){const l=Object.keys(e),E={};return l.forEach(P=>Object.assign(E,{[P]:m[l.indexOf(P)]})),E}else return m}L.preload=e=>R.preload(I,e);L.clear=e=>R.clear(I,e);function at(e){return Array.isArray(e)}function S(e=[0,0,0]){return at(e)?e:e instanceof B||e instanceof _?[e.x,e.y,e.z]:[e,e,e]}function lt({debug:e,mesh:a,children:g,position:m,rotation:l,scale:E,...P}){const b=c.useRef(null),w=c.useRef(null);return c.useLayoutEffect(()=>{const h=(a==null?void 0:a.current)||b.current.parent,j=b.current;if(!(h instanceof q))throw new Error('Decal must have a Mesh as parent or specify its "mesh" prop');const d={position:new B,rotation:new _,scale:new B(1,1,1)};if(h){z(d,{position:m,scale:E});const k=h.matrixWorld.clone();if(h.matrixWorld.identity(),!l||typeof l=="number"){const p=new J;p.position.copy(d.position),p.lookAt(h.position),typeof l=="number"&&p.rotateZ(l),z(d,{rotation:p.rotation})}else z(d,{rotation:l});return j.geometry=new st(h,d.position,d.rotation,d.scale),w.current&&z(w.current,d),h.matrixWorld=k,()=>{j.geometry.dispose()}}},[a,...S(m),...S(E),...S(l)]),c.createElement("mesh",{ref:b},g||c.createElement("meshStandardMaterial",K({transparent:!0,polygonOffset:!0,polygonOffsetFactor:-10},P)),e&&c.createElement("mesh",{ref:w},c.createElement("boxGeometry",null),c.createElement("meshNormalMaterial",{wireframe:!0}),c.createElement("axesHelper",null)))}const it=c.forwardRef(({children:e,speed:a=1,rotationIntensity:g=1,floatIntensity:m=1,floatingRange:l=[-.1,.1],...E},P)=>{const b=c.useRef(null),w=c.useRef(Math.random()*1e4);return Q(h=>{var j,d;const k=w.current+h.clock.getElapsedTime();b.current.rotation.x=Math.cos(k/4*a)/8*g,b.current.rotation.y=Math.sin(k/4*a)/8*g,b.current.rotation.z=Math.sin(k/4*a)/20*g;let p=Math.sin(k/4*a)/10;p=v.mapLinear(p,-.1,.1,(j=l==null?void 0:l[0])!==null&&j!==void 0?j:-.1,(d=l==null?void 0:l[1])!==null&&d!==void 0?d:.1),b.current.position.y=p*m}),c.createElement("group",E,c.createElement("group",{ref:Y([b,P])},e))}),ut=e=>{const[a]=L([e.imgUrl]);return D(it,{speed:1.75,rotationIntensity:1,floatIntensity:2,children:[M("ambientLight",{intensity:.25}),M("directionalLight",{position:[0,0,.05]}),D("mesh",{castShadow:!0,receiveShadow:!0,scale:2.75,children:[M("icosahedronGeometry",{args:[1,1]}),M("meshStandardMaterial",{color:"#fff8eb",polygonOffset:!0,polygonOffsetFactor:-5,flatShading:!0}),M(lt,{position:[0,0,1],rotation:[2*Math.PI,0,6.25],flatShading:!0,map:a})]})]})},ct=({icon:e})=>D(V,{frameloop:"always",gl:{preserveDrawingBuffer:!1},children:[D(c.Suspense,{fallback:M(tt,{}),children:[M(ot,{enableZoom:!1,enablePan:!1,minPolarAngle:Math.PI/4,maxPolarAngle:Math.PI/1.35,minAzimuthAngle:-Math.PI/4,maxAzimuthAngle:Math.PI/4}),M(ut,{imgUrl:e})]}),M(et,{all:!0})]}),ft=()=>M("div",{className:"flex flex-row flex-wrap justify-center gap-10",children:nt.map(e=>M("div",{className:"w-28 h-28",children:M(ct,{icon:e.icon})},e.name))}),gt=rt(ft,"");export{gt as default};
